[
  {
	"model": "world.state",
	"pk": 1,
	"fields": {
	  "name": "Any",
	  "logic": {
		"on_tick": [
		  {
			"conditions": [
			  {
				">": [
				  "self.health",
				  100
				]
			  }
			],
			"actions": [
			  {
				"set": {
				  "var": "self.health",
				  "value": 100
				}
			  }
			]
		  },
		  {
			"conditions": [
			  {
				">": [
				  "self.stamina",
				  100
				]
			  }
			],
			"actions": [
			  {
				"set": {
				  "var": "self.stamina",
				  "value": 100
				}
			  }
			]
		  },
		  {
			"conditions": [
			  {
				"<": [
				  "self.stamina",
				  0
				]
			  }
			],
			"actions": [
			  {
				"set": {
				  "var": "self.stamina",
				  "value": 0
				}
			  }
			]
		  },
		  {
			"conditions": [
			  {
				"and": [
				  {
					"<=": [
					  "self.health",
					  0
					]
				  }
				]
			  }
			],
			"actions": [
			  {
				"set": {
				  "var": "self.alive",
				  "value": false
				}
			  }
			]
		  },
		  {
			"conditions": [
			  {
				"and": [
				  {
					"<": [
					  "self.health",
					  100
					]
				  },
				  {
					">=": [
					  "self.stamina",
					  50
					]
				  }
				]
			  }
			],
			"actions": [
			  {
				"set": {
				  "var": "self.health",
				  "value": {
					"sum": [
					  "self.health",
					  2
					]
				  }
				}
			  }
			]
		  }
		]
	  }
	}
  },
  {
	"model": "world.state",
	"pk": 2,
	"fields": {
	  "name": "Idle",
	  "logic": {
		"on_tick": [
		  {
			"conditions": [
			  {
				"and": [
				  {
					">": [
					  "self.stamina",
					  0
					]
				  }
				]
			  }
			],
			"actions": [
			  {
				"set": {
				  "var": "self.stamina",
				  "value": {
					"sum": [
					  "self.stamina",
					  -10
					]
				  }
				}
			  }
			]
		  },
		  {
			"conditions": [
			  {
				"and": [
				  {
					"<=": [
					  "self.stamina",
					  0
					]
				  }
				]
			  }
			],
			"actions": [
			  {
				"state_add": "Tired"
			  }
			]
		  }
		]
	  }
	}
  },
  {
	"model": "world.state",
	"pk": 3,
	"fields": {
	  "name": "Tired",
	  "logic": {
		"on_tick": [
		  {
			"conditions": [
			  {
				"and": [
				  {
					"<=": [
					  "self.stamina",
					  0
					]
				  }
				]
			  }
			],
			"actions": [
			  {
				"set": {
				  "var": "self.health",
				  "value": {
					"sum": [
					  "self.health",
					  -2
					]
				  }
				}
			  }
			]
		  },
		  {
			"conditions": [
			  {
				"and": [
				  {
					">": [
					  "self.stamina",
					  50
					]
				  }
				]
			  }
			],
			"actions": [
			  {
				"state_remove": "Tired"
			  }
			]
		  }
		]
	  }
	}
  },
  {
	"model": "world.state",
	"pk": 4,
	"fields": {
	  "name": "Sleeping",
	  "logic": {
		"on_tick": [
		  {
			"conditions": [
			  {
				"and": [
				  {
					"<": [
					  "self.stamina",
					  100
					]
				  }
				]
			  }
			],
			"actions": [
			  {
				"set": {
				  "var": "self.stamina",
				  "value": {
					"sum": [
					  "self.stamina",
					  10
					]
				  }
				}
			  }
			]
		  }
		]
	  }
	}
  },
  {
	"model": "world.task",
	"pk": 1,
	"fields": {
	  "name": "Sleep",
	  "logic": {
		"on_tick": [
		  {
			"conditions": [
			  {
				"not": {
				  "state_has": "Sleeping"
				}
			  }
			],
			"actions": [
			  {
				"state_add": "Sleeping"
			  }
			]
		  },
		  {
			"conditions": [
			  {
				">=": [
				  "self.stamina",
				  100
				]
			  }
			],
			"actions": [
			  {
				"task_complete": "Sleep"
			  }
			]
		  }
		],
		"on_complete": [
		  {
			"actions": [
			  {
				"state_remove": "Sleeping"
			  }
			]
		  }
		]
	  }
	}
  }
]